---
sidebar_position: 2
---

# create_table_of_content.py

## Назначение

Специализированный модуль для анализа содержимого JSONL-файла. Его главная задача — собрать статистику по использованию символов Unicode, сгруппировать их по блокам, рассчитать метрики по некорректным символам и строкам и сгенерировать на основе этих данных оглавление в формате Markdown. Для обработки данных используется библиотека `pandas`.

## Основные функции

### `create_table_of_content()`

Основная функция для создания оглавления на основе анализа JSONL данных.

**Назначение:** Анализирует JSONL файл и генерирует статистику Unicode символов с оглавлением.

**Примечание:** Конкретная сигнатура функции и параметры зависят от реализации в исходном коде.

### Функции анализа Unicode

Модуль включает функции для:
- Анализа символов Unicode по блокам
- Выявления "плохих" (нестандартных) символов
- Подсчета статистики использования
- Генерации Markdown оглавления

## Зависимости

### Внешние библиотеки
- `json` - обработка JSON данных
- `pandas` - анализ данных и вычисление статистики
- `typing` - типизация
- `unicode_stats.aggregation` - агрегация Unicode статистики
- `unicode_stats.block_rules` - правила Unicode блоков

## Архитектурные особенности

1. **Использование pandas**: Эффективная обработка больших объемов данных
2. **Unicode анализ**: Специализированные библиотеки для работы с Unicode
3. **Markdown генерация**: Создание структурированного оглавления
4. **Статистические метрики**: Подробная аналитика по символам

## Примеры использования

```python
from jsonl2html.create_table_of_content import create_table_of_content

# Анализ JSONL файла и создание оглавления
table_content = create_table_of_content("data.jsonl")
```

## Связь с основным модулем

Модуль тесно интегрирован с `convert.py`:
- Вызывается в начале процесса конвертации
- Предоставляет данные для генерации HTML оглавления
- Результаты встраиваются в итоговый HTML документ
